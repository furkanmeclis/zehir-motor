import{r as i,P as ae,O as h,c as N,l as Q,D as fe,I as pe,R as L,j as o,a as de,y as K}from"./app-BAMXPzWM.js";import{A as ve}from"./AuthenticatedLayout-5x7mlw2B.js";import{C as ne,u as se,a as ie,b as ge,c as be,P as ye,B as y}from"./button.esm-C7j32RkL.js";import{T as he}from"./toast.esm-DW9F4p2Q.js";import{B as je}from"./blockui.esm-BOruQJOs.js";import{g as xe}from"./helper-CgTmtTxK.js";import{D as Se}from"./dialog.esm-CRn-K8zl.js";import{O as B}from"./overlayservice.esm-4g7IiWiO.js";import"./ApplicationLogo-TlaY-_i6.js";import"./transition-a5haM1vW.js";import"./open-closed-DMtNlkwW.js";import"./index.esm-BLysFVpX.js";var Pe={root:"p-card p-component",header:"p-card-header",title:"p-card-title",subTitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer",body:"p-card-body"},Ne=`
@layer primereact {
    .p-card-header img {
        width: 100%;
    }
}
`,U=ne.extend({defaultProps:{__TYPE:"Card",id:null,header:null,footer:null,title:null,subTitle:null,style:null,className:null,children:void 0},css:{classes:Pe,styles:Ne}}),X=i.forwardRef(function(t,e){var r=se(),n=i.useContext(ae),a=U.getProps(t,n),f=i.useRef(e),m=U.setMetaData({props:a}),u=m.ptm,s=m.cx,C=m.isUnstyled;ie(U.css.styles,C,{name:"card"});var E=function(){var v=r({className:s("header")},u("header"));return a.header?i.createElement("div",v,h.getJSXElement(a.header,a)):null},H=function(){var v=r({className:s("title")},u("title")),c=a.title&&i.createElement("div",v,h.getJSXElement(a.title,a)),D=r({className:s("subTitle")},u("subTitle")),F=a.subTitle&&i.createElement("div",D,h.getJSXElement(a.subTitle,a)),A=r({className:s("content")},u("content")),O=a.children&&i.createElement("div",A,a.children),k=r({className:s("footer")},u("footer")),S=a.footer&&i.createElement("div",k,h.getJSXElement(a.footer,a)),P=r({className:s("body")},u("body"));return i.createElement("div",P,c,F,O,S)};i.useEffect(function(){h.combinedRefs(f,e)},[f,e]);var M=r({id:a.id,ref:f,style:a.style,className:N(a.className,s("root"))},U.getOtherProps(a),u("root")),j=E(),x=H();return i.createElement("div",M,j,x)});X.displayName="Card";function W(){return W=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W.apply(this,arguments)}function Ce(t){if(Array.isArray(t))return t}function Ee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,f,m,u=[],s=!0,C=!1;try{if(f=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=f.call(r)).done)&&(u.push(n.value),u.length!==e);s=!0);}catch(E){C=!0,a=E}finally{try{if(!s&&r.return!=null&&(m=r.return(),Object(m)!==m))return}finally{if(C)throw a}}return u}}function Z(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Oe(t,e){if(t){if(typeof t=="string")return Z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(t,e)}}function we(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ee(t,e){return Ce(t)||Ee(t,e)||Oe(t,e)||we()}function _(t){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(t)}function Te(t,e){if(_(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Be(t){var e=Te(t,"string");return _(e)==="symbol"?e:String(e)}function Re(t,e,r){return e=Be(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var De={root:"p-confirm-dialog",message:"p-confirm-dialog-message",icon:"p-confirm-dialog-icon",acceptButton:"p-confirm-dialog-accept",rejectButton:function(e){var r=e.getPropValue;return N("p-confirm-dialog-reject",{"p-button-text":!r("rejectClassName")})}},V=ne.extend({defaultProps:{__TYPE:"ConfirmDialog",accept:null,acceptClassName:null,acceptIcon:null,acceptLabel:null,appendTo:null,breakpoints:null,children:void 0,className:null,content:null,defaultFocus:"accept",footer:null,icon:null,message:null,onHide:null,reject:null,rejectClassName:null,rejectIcon:null,rejectLabel:null,tagKey:void 0,visible:void 0},css:{classes:De}});function te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?te(Object(r),!0).forEach(function(n){Re(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var re=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e=T(T({},e),{visible:e.visible===void 0?!0:e.visible}),e.visible&&B.emit("confirm-dialog",e);var r=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};B.emit("confirm-dialog",T(T(T({},e),f),{visible:!0}))},n=function(){B.emit("confirm-dialog",{visible:!1})};return{show:r,hide:n}},oe=i.memo(i.forwardRef(function(t,e){var r=se(),n=i.useContext(ae),a=V.getProps(t,n),f=i.useState(a.visible),m=ee(f,2),u=m[0],s=m[1],C=i.useState(!1),E=ee(C,2),H=E[0],M=E[1],j=i.useRef(null),x=i.useRef(!1),R=i.useRef(null),v=function(){var l=a.group;return j.current&&(l=j.current.group),Object.assign({},a,j.current,{group:l})},c=function(l){return v()[l]},D=function(l){for(var d=arguments.length,g=new Array(d>1?d-1:0),b=1;b<d;b++)g[b-1]=arguments[b];return h.getPropValue(c(l),g)},F=c("acceptLabel")||Q("accept"),A=c("rejectLabel")||Q("reject"),O={props:a,state:{visible:u}},k=V.setMetaData(O),S=k.ptm,P=k.cx,le=k.isUnstyled;ie(V.css.styles,le,{name:"confirmdialog"});var q=function(){x.current||(x.current=!0,D("accept"),w("accept"))},G=function(){x.current||(x.current=!0,D("reject"),w("reject"))},$=function(){var l=v();l.group===a.group&&(s(!0),x.current=!1,R.current=document.activeElement)},w=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cancel";s(!1),D("onHide",{result:l}),fe.focus(R.current),R.current=null},I=function(l){if(l.tagKey===a.tagKey){var d=u!==l.visible,g=c("target")!==l.target;g&&!a.target?(w(),j.current=l,M(!0)):d&&(j.current=l,l.visible?$():w())}};i.useEffect(function(){a.visible?$():w()},[a.visible]),i.useEffect(function(){return!a.target&&!a.message&&B.on("confirm-dialog",I),function(){B.off("confirm-dialog",I)}},[a.target]),ge(function(){H&&$()},[H]),be(function(){B.off("confirm-dialog",I)}),i.useImperativeHandle(e,function(){return{props:a,confirm:I}});var ce=function(){var l=c("defaultFocus"),d=N("p-confirm-dialog-accept",c("acceptClassName")),g=N("p-confirm-dialog-reject",{"p-button-text":!c("rejectClassName")},c("rejectClassName")),b={label:A,autoFocus:l==="reject",icon:c("rejectIcon"),className:N(c("rejectClassName"),P("rejectButton",{getPropValue:c})),onClick:G,pt:S("rejectButton"),unstyled:a.unstyled,__parentMetadata:{parent:O}},J=r({label:F,autoFocus:l===void 0||l==="accept",icon:c("acceptIcon"),className:N(c("acceptClassName"),P("acceptButton")),onClick:q,pt:S("acceptButton"),unstyled:a.unstyled,__parentMetadata:{parent:O}},S("acceptButton")),z=i.createElement(i.Fragment,null,i.createElement(y,b),i.createElement(y,J));if(c("footer")){var Y={accept:q,reject:G,acceptClassName:d,rejectClassName:g,acceptLabel:F,rejectLabel:A,element:z,props:v()};return h.getJSXElement(c("footer"),Y)}return z},ue=function(){var l=v(),d=h.getJSXElement(c("message"),l),g=r({className:P("icon")},S("icon")),b=pe.getJSXIcon(c("icon"),T({},g),{props:l}),J=ce(),z=r({className:P("message")},S("message")),Y=r({visible:u,className:N(c("className"),P("root")),footer:J,onHide:w,breakpoints:c("breakpoints"),pt:l.pt,unstyled:a.unstyled,appendTo:c("appendTo"),__parentMetadata:{parent:O}},V.getOtherProps(l));return i.createElement(Se,W({},Y,{content:t==null?void 0:t.content}),b,i.createElement("span",z,d))},me=ue();return i.createElement(ye,{element:me,appendTo:c("appendTo")})}));oe.displayName="ConfirmDialog";function Me({auth:t,csrf_token:e}){const[r,n]=L.useState(!0),[a,f]=L.useState(null);L.useState("");const m=L.useRef(null);return i.useEffect(()=>{xe(e).then(({status:u,data:s})=>{u?f(s.counts):m.current.show({severity:"error",summary:"Hata",detail:"Veriler yüklenirken bir hata oluştu.",life:3e3})}).catch(u=>{console.error(u),m.current.show({severity:"error",summary:"Hata",detail:"Veriler yüklenirken bir hata oluştu.",life:3e3})}).finally(()=>{n(!1)})},[]),o.jsxs(ve,{user:t.user,header:"Anasayfa",children:[o.jsx(de,{title:"Anasayfa"}),o.jsx(he,{ref:m}),o.jsx("div",{className:"py-6",children:o.jsx("div",{className:"max-w-[85rem] mx-auto sm:px-6 lg:px-8",children:o.jsx(je,{blocked:r,template:o.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:!r&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[o.jsx(X,{title:"Ürünler",subTitle:o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"pi pi-box"})," ",a.products," Adet Ürün"]}),children:o.jsxs("div",{className:"flex justify-between gap-x-2",children:[o.jsx(y,{label:"Yeni Ürün Ekle",icon:"pi pi-plus-circle",size:"small",onClick:()=>K.visit(route("products.index")),className:"p-button-success"}),o.jsx(y,{label:"Ürünler",icon:"pi pi-box",onClick:()=>K.visit(route("products.index")),size:"small",className:"p-button-info"})]})}),o.jsx(X,{title:"Katalog",subTitle:o.jsx(o.Fragment,{children:"Tanıtım Kataloğu"}),children:o.jsxs("div",{className:"flex justify-between gap-x-2",children:[o.jsx(y,{label:"Katalog(Firma İçi)",icon:"pi pi-images",size:"small",onClick:()=>K.visit(route("products.katalog")),className:"p-button-success"}),o.jsx(y,{label:"Katalog",icon:"pi pi-external-link",onClick:()=>K.visit(route("home")),size:"small",className:"p-button-info"})]})}),o.jsx(X,{title:"Tehlike Bildirimleri",subTitle:o.jsx(o.Fragment,{children:"Sistemi Sıfırla"}),children:o.jsxs("div",{className:"flex justify-between gap-x-2",children:[o.jsx(y,{label:"Veritabanı Sıfırla",icon:"pi pi-database",size:"small",onClick:u=>{re({message:"Tüm ürünler sıfırlanacak. Devam etmek istediğinize emin misiniz?",header:"Onay",icon:"pi pi-exclamation-triangle",accept:()=>{n(!0),fetch(route("resetDatabase"),{headers:{"X-CSRF-TOKEN":e},method:"POST"}).then(s=>s.json()).then(s=>{s.status?m.current.show({severity:"success",summary:"Başarılı",detail:s.message}):m.current.show({severity:"error",summary:"Hata",detail:s.message})}).catch(s=>{m.current.show({severity:"error",summary:"Hata",detail:"CSRF Token Hatası Lütfen Sayfayı Yenileyiniz.."})}).finally(()=>{n(!1)})}})},className:"p-button-danger"}),o.jsx(y,{label:"Resimleri Temizle",icon:"pi pi-images",onClick:u=>{re({message:"Tüm resimler silinecek. Devam etmek istediğinize emin misiniz?",header:"Onay",icon:"pi pi-exclamation-triangle",accept:()=>{n(!0),fetch(route("resetImages"),{headers:{"X-CSRF-TOKEN":e},method:"POST"}).then(s=>s.json()).then(s=>{s.status?m.current.show({severity:"success",summary:"Başarılı",detail:s.message}):m.current.show({severity:"error",summary:"Hata",detail:s.message})}).catch(s=>{m.current.show({severity:"error",summary:"Hata",detail:"CSRF Token Hatası Lütfen Sayfayı Yenileyiniz.."})}).finally(()=>{n(!1)})}})},className:"p-button-info"})]})})]})})})}),o.jsx(oe,{})]})}export{Me as default};
